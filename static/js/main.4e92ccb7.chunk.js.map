{"version":3,"sources":["components/Total/Total.js","components/History/HistoryItem.js","components/History/History.js","components/Operation/Operation.js","App.js","index.js"],"names":["Total","resultExpenses","resultIncome","totalBalance","className","HistoryItem","transaction","delTransaction","add","description","amount","onClick","id","History","transactions","map","item","key","Operation","addTransaction","addDescription","addAmount","type","placeholder","onChange","value","App","state","JSON","parse","localStorage","getItem","Date","toString","parseFloat","push","setState","getTotalBalance","filter","e","target","getIncome","reduce","acc","getExpenses","this","addStorage","setItem","stringify","Fragment","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mPA2BeA,EAzBD,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,eAAgBC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,aAC7C,OACE,6BAASC,UAAU,SACjB,4BAAQA,UAAU,iBACd,oEACA,uBAAGA,UAAU,kBAAkBD,EAA/B,YAEJ,yBAAKC,UAAU,eACX,yBAAKA,UAAU,kCACX,oEACA,uBAAGA,UAAU,oCAAb,IACMF,EADN,YAIJ,yBAAKE,UAAU,oCACX,0EACA,uBAAGA,UAAU,sCAAb,IACMH,EADN,eCDCI,MAff,YAAuD,IAAhCC,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,eAClC,OACE,wBACIH,UAAS,wBAAmBE,EAAYE,IACpC,qBACA,wBACHF,EAAYG,YACb,0BAAML,UAAU,kBAAkBE,EAAYI,OAA9C,WACA,4BACAN,UAAU,kBACVO,QAAS,kBAAMJ,EAAeD,EAAYM,MAF1C,OCQOC,MAff,YAAoD,IAAjCC,EAAgC,EAAhCA,aAAcP,EAAkB,EAAlBA,eAC/B,OACE,6BAASH,UAAU,WACf,2HACA,wBAAIA,UAAU,iBACXU,EAAaC,KAAI,SAAAC,GAAI,OAAI,kBAAC,EAAD,CACAC,IAAKD,EAAKJ,GACVN,YAAaU,EACbT,eAAgBA,UCgCrCW,MAzCf,YAAwF,IAAnEC,EAAkE,EAAlEA,eAAgBC,EAAkD,EAAlDA,eAAgBC,EAAkC,EAAlCA,UAAWZ,EAAuB,EAAvBA,YAAaC,EAAU,EAAVA,OAC3E,OACE,6BAASN,UAAU,aACf,+GACA,0BAAMQ,GAAG,QACL,+BACI,2BACAU,KAAK,OACLlB,UAAU,oCACVmB,YAAY,4HACZC,SAAUJ,EACVK,MAAOhB,KAGX,+BACI,2BACAa,KAAK,SACLlB,UAAU,sCACVmB,YAAY,4EACZC,SAAUH,EACVI,MAAOf,KAGX,yBAAKN,UAAU,mBACX,4BACEO,QAAS,kBAAMQ,GAAe,IAC9BG,KAAK,SACLlB,UAAU,0CAHZ,wCAMA,4BACEO,QAAS,kBAAMQ,GAAe,IAC9BG,KAAK,SACLlB,UAAU,qCAHZ,sCCoFDsB,E,4MA7GXC,MAAQ,CACJb,aAAcc,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,GAC/DtB,YAAa,GACbC,OAAQ,GACRR,aAAc,EACdD,eAAgB,EAChBE,aAAc,G,EAWlBgB,eAAiB,SAAAX,GAEb,IAAMM,EAAY,YAAO,EAAKa,MAAMb,cAE9BR,EAAc,CAChBM,GAAG,MAAD,SAAU,IAAIoB,MAAMC,SAAS,KAC/BxB,YAAa,EAAKkB,MAAMlB,YACxBC,OAAQwB,WAAW,EAAKP,MAAMjB,QAC9BF,OAGJM,EAAaqB,KAAK7B,GAElB,EAAK8B,SAAS,CACVtB,eACAL,YAAa,GACbC,OAAQ,IACT,EAAK2B,kB,EAOZ9B,eAAiB,SAAAK,GACb,IAAME,EAAe,EAAKa,MAAMb,aAAawB,QAAO,SAAAtB,GAAI,OAAIA,EAAKJ,KAAOA,KACxE,EAAKwB,SAAS,CAAEtB,gBAAgB,EAAKuB,kB,EAGzChB,UAAY,SAAAkB,GACR,EAAKH,SAAS,CAAC1B,QAAS6B,EAAEC,OAAOf,S,EAGrCL,eAAiB,SAAAmB,GACb,EAAKH,SAAS,CAAC3B,YAAa8B,EAAEC,OAAOf,S,EAGzCgB,UAAY,kBACJ,EAAKd,MAAMb,aACd4B,QAAO,SAACC,EAAK3B,GAAN,OAAeA,EAAKR,IAAMQ,EAAKN,OAASiC,EAAMA,IAAK,I,EAG/DC,YAAc,kBACN,EAAKjB,MAAMb,aACd4B,QAAO,SAACC,EAAK3B,GAAN,OAAgBA,EAAKR,IAA0BmC,EAApB3B,EAAKN,OAASiC,IAAW,I,mEAnD5DE,KAAKR,oB,2CAILQ,KAAKC,e,mCAwBLhB,aAAaiB,QAAQ,YAAanB,KAAKoB,UAAUH,KAAKlB,MAAMb,iB,wCA0B5D,IAAMZ,EAAe2C,KAAKJ,YACpBxC,EAAiB4C,KAAKD,cAEtBzC,EAAeD,EAAeD,EAEpC4C,KAAKT,SAAS,CACVlC,eACAD,iBACAE,mB,+BAKJ,OACE,kBAAC,IAAM8C,SAAP,KACE,gCACE,0EACA,oJAGF,8BACI,yBAAK7C,UAAU,aACX,kBAAC,EAAD,CACAH,eAAgB4C,KAAKlB,MAAM1B,eAC3BC,aAAc2C,KAAKlB,MAAMzB,aACzBC,aAAc0C,KAAKlB,MAAMxB,eAEzB,kBAAC,EAAD,CACAW,aAAc+B,KAAKlB,MAAMb,aACzBP,eAAgBsC,KAAKtC,iBAErB,kBAAC,EAAD,CACAY,eAAgB0B,KAAK1B,eACrBE,UAAWwB,KAAKxB,UAChBD,eAAgByB,KAAKzB,eACrBX,YAAaoC,KAAKlB,MAAMlB,YACxBC,OAAQmC,KAAKlB,MAAMjB,gB,GAtGrBwC,a,YCClBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.4e92ccb7.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Total = ({ resultExpenses, resultIncome, totalBalance }) => {\r\n  return (\r\n    <section className=\"total\">\r\n      <header className=\"total__header\">\r\n          <h3>Баланс</h3>\r\n          <p className=\"total__balance\">{totalBalance} ₽</p>\r\n      </header>\r\n      <div className=\"total__main\">\r\n          <div className=\"total__main-item total__income\">\r\n              <h4>Доходы</h4>\r\n              <p className=\"total__money total__money-income\">\r\n                  +{resultIncome} ₽\r\n              </p>\r\n          </div>\r\n          <div className=\"total__main-item total__expenses\">\r\n              <h4>Расходы</h4>\r\n              <p className=\"total__money total__money-expenses\">\r\n                  -{resultExpenses} ₽\r\n              </p>\r\n          </div>\r\n        </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Total;","import React from \"react\";\r\n\r\nfunction HistoryItem({ transaction, delTransaction }) {\r\n  return (\r\n    <li \r\n        className={`history__item ${transaction.add ?\r\n            'history__item-plus' : \r\n            'history__item-minus'}`}>\r\n        {transaction.description}\r\n        <span className=\"history__money\">{transaction.amount} ₽</span>\r\n        <button\r\n        className=\"history__delete\"\r\n        onClick={() => delTransaction(transaction.id)}>x</button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default HistoryItem;","import React from \"react\";\r\nimport HistoryItem from \"./HistoryItem\";\r\n\r\nfunction History({ transactions, delTransaction }) {\r\n  return (\r\n    <section className=\"history\">\r\n        <h3>История расходов</h3>\r\n        <ul className=\"history__list\">\r\n          {transactions.map(item => <HistoryItem \r\n                                    key={item.id}\r\n                                    transaction={item}\r\n                                    delTransaction={delTransaction}\r\n                                  />)}\r\n        </ul>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default History;","import React from \"react\";\r\n\r\nfunction Operation({ addTransaction, addDescription, addAmount, description, amount }) {\r\n  return (\r\n    <section className=\"operation\">\r\n        <h3>Новая операция</h3>\r\n        <form id=\"form\">\r\n            <label>\r\n                <input\r\n                type=\"text\"\r\n                className=\"operation__fields operation__name\"\r\n                placeholder=\"Наименование операции\"\r\n                onChange={addDescription}\r\n                value={description}\r\n                />\r\n            </label>\r\n            <label>\r\n                <input \r\n                type=\"number\"\r\n                className=\"operation__fields operation__amount\"\r\n                placeholder=\"Введите сумму\"\r\n                onChange={addAmount}\r\n                value={amount}\r\n                />\r\n            </label>\r\n            <div className=\"operation__btns\">\r\n                <button \r\n                  onClick={() => addTransaction(false)}\r\n                  type=\"button\"\r\n                  className=\"operation__btn operation__btn-subtract\"\r\n                >РАСХОД</button>\r\n\r\n                <button \r\n                  onClick={() => addTransaction(true)}\r\n                  type=\"button\"\r\n                  className=\"operation__btn operation__btn-add\"\r\n                >ДОХОД</button>\r\n            </div>\r\n        </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Operation;","import React, { Component } from 'react';\nimport Total from \"./components/Total/Total\";\nimport History from \"./components/History/History\";\nimport Operation from \"./components/Operation/Operation\";\n\nclass App extends Component {\n\n    state = {\n        transactions: JSON.parse(localStorage.getItem('calcMoney')) || [],\n        description: '',\n        amount: '',\n        resultIncome: 0,\n        resultExpenses: 0,\n        totalBalance: 0,\n    }\n\n    componentWillMount(){\n        this.getTotalBalance();\n    }\n\n    componentDidUpdate(){\n        this.addStorage();\n    }\n\n    addTransaction = add => {\n\n        const transactions = [...this.state.transactions];\n\n        const transaction = {\n            id: `cmr${(+new Date).toString(16)}`,\n            description: this.state.description,\n            amount: parseFloat(this.state.amount),\n            add\n        };\n\n        transactions.push(transaction);\n\n        this.setState({\n            transactions,\n            description: '',\n            amount: '',\n        }, this.getTotalBalance);\n    }\n\n    addStorage() {\n        localStorage.setItem('calcMoney', JSON.stringify(this.state.transactions))\n    }\n\n    delTransaction = id => {\n        const transactions = this.state.transactions.filter(item => item.id !== id)\n        this.setState({ transactions }, this.getTotalBalance)\n    }\n\n    addAmount = e => {\n        this.setState({amount: +e.target.value})\n    }\n\n    addDescription = e => {\n        this.setState({description: e.target.value})\n    }\n\n    getIncome = () =>\n            this.state.transactions\n        .reduce((acc, item) => item.add ? item.amount + acc : acc, 0)\n    \n\n    getExpenses = () =>\n            this.state.transactions\n        .reduce((acc, item) => !item.add ? item.amount + acc : acc, 0)\n\n    getTotalBalance() {\n        const resultIncome = this.getIncome();\n        const resultExpenses = this.getExpenses();\n\n        const totalBalance = resultIncome - resultExpenses;\n\n        this.setState({\n            resultIncome,\n            resultExpenses,\n            totalBalance,\n        })\n    }\n\n    render() {\n        return (\n          <React.Fragment>\n            <header>\n              <h1>Кошелёк</h1>\n              <h2>Калькулятор расходов</h2>\n            </header>\n      \n            <main>\n                <div className=\"container\">\n                    <Total\n                    resultExpenses={this.state.resultExpenses}\n                    resultIncome={this.state.resultIncome}\n                    totalBalance={this.state.totalBalance}\n                    />\n                    <History \n                    transactions={this.state.transactions}\n                    delTransaction={this.delTransaction}\n                    />\n                    <Operation \n                    addTransaction={this.addTransaction}\n                    addAmount={this.addAmount}\n                    addDescription={this.addDescription}\n                    description={this.state.description}\n                    amount={this.state.amount}\n                    />\n                </div>\n            </main>\n          </React.Fragment>\n        );\n    }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './normalize.css';\nimport './style.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}